name: CI/CD Docker Build Simulation

on:
  push:
    branches: [june]
  pull_request:
    branches: [june]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Set up Docker Buildx
        uses: docker/setup-buildx-action@v2

      - name: Build Image Simulation
        run: |
          # This simulates building the image juneko/diet-analysis:v1
          echo "Building Docker image: juneko/diet-analysis:v1..."
          docker build -t juneko/diet-analysis:v1 .
          echo "Image built successfully!"

      - name: Test Logic
        run: |
          echo "Running tests on serverless logic..."
          # You can add a command to check python script here
          python3 --version
